<!DOCTYPE html>
<html lang="en">
<head>

<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Contact Depot</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link href="css/tableStyle.css" rel="stylesheet" >
<link href="css/styleSheet.css" rel="stylesheet" >
<script type="text/javascript" src="js/md5.js"></script>
<script type="text/javascript" src="js/code.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script type="text/javascript">
	document.addEventListener('DOMContentLoaded', function() 
	{
		readCookie();
		loadContacts();
	}, false);
</script>
<script>
$(document).ready(function(){
	//tool tip
	$('[data-toggle="tooltip"]').tooltip();
	
	// to click and unclick checkboxes
	var checkbox = $('table tbody input[type="checkbox"]');
	$("#selectAll").click(function(){
		if(this.checked){
			checkbox.each(function(){
				this.checked = true;                        
			});
		} else{
			checkbox.each(function(){
				this.checked = false;                        
			});
		} 
	});
	checkbox.click(function(){
		if(!this.checked){
			$("#selectAll").prop("checked", false);
		}
	});
});
</script>
</head>
<body>
    <div class="container">
		<div class="table-responsive">
			<div class="table-wrapper">
				<div class="table-title">
					<div class="row">
						<div class="col-xs-6">
                            <h2><span id="userName"></span><br /></h2>
							<h2><b>Manage Contacts</b></h2>
							
							
						</div>
						<div class="col-xs-12">
                            <button type="button" id="logoutButton" class="btn btn-info btn-md" onclick="doLogout();"><span>Log Out</span></button>
                            <a href="#searchContact" class="btn btn-success" data-toggle="modal"><i class="material-icons">&#xE8B6;</i> <span>Search</span></a>   
                            <a href="#addContact" class="btn btn-success" data-toggle="modal"><i class="material-icons">&#xE147;</i> <span>Add New Contact</span></a>
                            <a href="#editContact" class="btn btn-success" data-toggle="modal"><i class="material-icons">&#xE254;</i><span>Edit a Contact</span></a>
                            <a href="#deleteContact" class="btn btn-danger" data-toggle="modal"><i class="material-icons">&#xE15C;</i> <span>Delete</span></a> 				
						
						</div>
					</div>
				</div>
				<table class="table table-striped table-hover">
					<div id="contactsTable"></div>
					
					<thead>
						<tr>
						<th>
								<span class="custom-checkbox">
									<input type="checkbox" id="selectAll">
									<label for="selectAll"></label>
								</span>
							</th>
							<th>Name</th>
							<th>Last Name</th>
							<th>Email</th>
							<th>Phone</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>
								<span class="custom-checkbox">
									<input type="checkbox" id="checkbox1" name="options[]" value="1">
									<label for="checkbox1"></label>
								</span>
							</td>
							<td>Sahara</td>
							<td>Sheikh</td>
							<td>Sahara@email.com</td>
							<td>(111) 111-111</td>
							<td>
								<a href="#editContact" class="edit" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Edit">&#xE254;</i></a>
								<a href="#deleteContact" class="delete" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Delete">&#xE92E;</i></a>
							</td>
                        <tr>
                            <td>
                                <span class="custom-checkbox">
                                    <input type="checkbox" id="checkbox1" name="options[]" value="1">
                                    <label for="checkbox1"></label>
                                </span>
                        </td>
                        <td>Alicia</td>
                        <td>Hassan</td>
                        <td>Alicia@email.com</td>
                        <td>(111) 111-111</td>
                        <td>
                            <a href="#editContact" class="edit" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Edit">&#xE254;</i></a>
                            <a href="#deleteContact" class="delete" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Delete">&#xE872;</i></a>
                        </td>
                        <tr>
                            <td>
                                <span class="custom-checkbox">
                                    <input type="checkbox" id="checkbox1" name="options[]" value="1">
                                    <label for="checkbox1"></label>
                                </span>
                        </td>
                        <td>Sergio</td>
                        <td>Rodriguez</td>
                        <td>Sergio@email.com</td>
                        <td>(111) 111-111</td>
                        <td>
                            <a href="#editContact" class="edit" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Edit">&#xE254;</i></a>
                            <a href="#deleteContact" class="delete" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Delete">&#xE872;</i></a>
                        </td>

                        <tr>
                            <td>
                                <span class="custom-checkbox">
                                    <input type="checkbox" id="checkbox1" name="options[]" value="1">
                                    <label for="checkbox1"></label>
                                </span>
                        </td>
                        <td>Cristopher</td>
                        <td>Melendez</td>
                        <td>Cristopher@email.com</td>
                        <td>(111) 111-111</td>
                        <td>
                            <a href="#editContact" class="edit" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Edit">&#xE254;</i></a>
                            <a href="#deleteContact" class="delete" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Delete">&#xE872;</i></a>
                        </td>
                        
                        <tr>
                            <td>
                                <span class="custom-checkbox">
                                    <input type="checkbox" id="checkbox1" name="options[]" value="1">
                                    <label for="checkbox1"></label>
                                </span>
                        </td>
                        <td>Charles</td>
                        <td>Anderson</td>
                        <td>Charles@email.com</td>
                        <td>(111) 111-111</td>
                        <td>
                            <a href="#editContact" class="edit" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Edit">&#xE254;</i></a>
                            <a href="#deleteContact" class="delete" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Delete">&#xE872;</i></a>
                        </td>
                        
                        <tr>
                            <td>
                                <span class="custom-checkbox">
                                    <input type="checkbox" id="checkbox1" name="options[]" value="1">
                                    <label for="checkbox1"></label>
                                </span>
                        </td>
                        <td> Miguel</td>
                        <td>Dautant</td>
                        <td>Miguel@email.com</td>
                        <td>(111) 111-111</td>
                        <td>
                            <a href="#editContact" class="edit" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Edit">&#xE254;</i></a>
                            <a href="#deleteContact" class="delete" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Delete">&#xE872;</i></a>
                        </td>
						<tr>
						<td> Miguel</td>
                        <td>Dautant</td>
                        <td>Miguel@email.com</td>
                        <td>(111) 111-111</td>
                        <td>
                            <a href="#editContact" class="edit" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Edit">&#xE254;</i></a>
                            <a href="#deleteContact" class="delete" data-toggle="modal"><i class="material-icons" data-toggle="tooltip" title="Delete">&#xE872;</i></a>
                        </td>
						<tr>
					<td><div id = "contactListFirstName"></div></td>
						<td><div id = "contactListLastName"></div></td>
						<td><div id = "contactListEmail"></div></td>
						<td><div id = "contactListPhone"></div></td>
                        </tr>  
					</tbody>
				</table>
				</div>
			</div>
				<!--<div class="clearfix">
					<div class="hint-text">Showing <b>n</b> out of <b>nnnnn</b> entries</div>
					<ul class="pagination">
						<li class="page-item disabled"><a href="#">Previous</a></li>
						<li class="page-item"><a href="#" class="page-link">1</a></li>
						<li class="page-item"><a href="#" class="page-link">2</a></li>
						<li class="page-item active"><a href="#" class="page-link">3</a></li>
						<li class="page-item"><a href="#" class="page-link">4</a></li>
						<li class="page-item"><a href="#" class="page-link">5</a></li>
						<li class="page-item"><a href="#" class="page-link">Next</a></li>
					</ul>
				</div>-->
			</div>
	<!-- Add Modal HTML -->
	<div id="addContact" class="modal fade">
		<div class="modal-dialog">
			<div class="modal-content">
				<form>
					<div class="modal-header">						
						<h4 class="modal-title">Add Contact</h4>
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					</div>
					<div class="modal-body">					
						<div class="form-group">
							<label>First Name</label>
							<input type="text" id="newContactFirstName" class="form-control" required>
						</div>
						
						<div class="form-group">
							<label>Last Name</label>
							<input type="text" id="newContactLastName" class="form-control" required></textarea>
						</div>
                        <div class="form-group">
							<label>Email</label>
							<input type="email" id="newContactEmail" class="form-control" required>
						</div>
						<div class="form-group">
							<label>Phone</label>
							<input type="tel" id="newContactPhoneNumber" class="form-control" placeholder="(123)-456-7890"  required> <!--"[(][0-9]{3}[)]-[0-9]{3}-[0-9]{4}"-->
						</div>					
					</div>
					<div class="modal-footer">
						<input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
						<input type="submit" class="btn btn-success" onclick="addContact()" value="Add">
						<br /><span id="newContactResult"></span>
					</div>
				</form>
			</div>
		</div>
	</div>
	<!-- Edit Modal HTML -->
	<div id="editContact" class="modal fade">
		<div class="modal-dialog">
			<div class="modal-content">
				<form>
					<div class="modal-header">						
						<h4 class="modal-title">Edit Contact</h4>
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					</div>
					<div class="modal-body">					
						<div class="form-group">
							<label>First Name</label>
							<input type="text" id="firstName" class="form-control" required>
						</div>
						<div class="form-group">
							<label>Last Name</label>
                            <input type="text" id="lastName" class="form-control" required></textarea>
						</div>
						<div class="form-group">
							<label>Email</label>
							<input type="email" id="email" class="form-control" required>
						</div>
						<div class="form-group">
							<label>Phone</label>
							<input type="tel" id="phoneNumber" class="form-control" placeholder="(123)-456-7890" pattern="[789][0-9]{9}" required> <!--"[(][0-9]{3}[)]-[0-9]{3}-[0-9]{4}"-->
							<p class="text-warning"><small>Phone numbers cannot be edited, instead a new contact must be created</small></p>
						</div>					
					</div>
					<div class="modal-footer">
						<input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
						<input type="submit" class="btn btn-info" onclick="editContact()" value="Save">
						<br /><span id="editResult"></span>
					</div>
				</form>
			</div>
		</div>
	</div>
	<!-- Delete Modal HTML -->
	<div id="deleteContact" class="modal fade">
		<div class="modal-dialog">
			<div class="modal-content">
				<form>
					<div class="modal-header">                      
                        <h4 class="modal-title">Delete Contact</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    </div>
                    <div class="modal-body">                    
                        <p>Enter the number of the contact to be deleted</p>
                         <div class="form-group">
                            <label>10 Digit Phone Number</label>
                            <input type="tel" id="phoneText" class="form-control" placeholder="(123)-456-7890" pattern="[789][0-9]{9}" required> <!--"[(][0-9]{3}[)]-[0-9]{3}-[0-9]{4}"-->
                        </div>
                        <p class="text-warning"><small>This action cannot be undone.</small></p>
                    </div>
                    <div class="modal-footer">
                        <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
                        <input type="submit" class="btn btn-danger" onclick="deleteContact()" value="Delete">
						<br /><span id="contactDeleteResult"></span>
					</div>
				</form>
			</div>
		</div>
	</div>
</body>


<!-- Search Modal HTML -->
<div id="searchContact" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <form>
                <div class="modal-header">						
                    <h4 class="modal-title">Search Contact</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">					
                    <div class="form-group">
                        <label>First Name</label>
                        <input type="text" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Last Name</label>
                        <input type="text" class="form-control" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Phone</label>
                        <input type="text" class="form-control" required>
                    </div>					
                </div>
                <div class="modal-footer">
                    <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
                    <input type="submit" class="btn btn-info" onclick="searchContact()" value="Search">
                </div>
            </form>
        </div>
    </div>
</div>